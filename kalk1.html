<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalkulator</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="app1.js"></script>
  </head>
  <body>
    <div id="#links">
      <a href="kalk1.html"><button>Kalkulator 1</button></a>
      <a href="kalk2.html"><button>Kalkulator 2</button></a>
      <a href="kalk3.html"><button>Kalkulator 3</button></a>
    </div>
    <div class="container">
      <table class="table">
        <tr>
          <th colspan="6" id="display">0</th>
        </tr>
        <tr>
          <td id="7">7</td>
          <td id="8">8</td>
          <td id="9">9</td>
          <td id="%">%</td>
          <td id="÷">÷</td>
          <td id="del">Del</td>
        </tr>
        <tr>
          <td id="4">4</td>
          <td id="5">5</td>
          <td id="6">6</td>
          <td id="^">^</td>
          <td id="×">×</td>
          <td id="C">C</td>
        </tr>
        <tr>
          <td id="1">1</td>
          <td id="2">2</td>
          <td id="3">3</td>
          <td id="√ ">√</td>
          <td id="+">+</td>
          <td id="=">=</td>
        </tr>
        <tr>
          <td id="0">0</td>
          <td id=".">.</td>
          <td id="(">(</td>
          <td id=")">)</td>
          <td id="-">-</td>
          <td id="#"></td>
        </tr>
      </table>
      <div style="height: 300px; display: flex; flex-direction: column">
        <div>
          <button onclick="document.getElementById('fileInput').click()">
            Upload Text File
          </button>
          <input
            type="file"
            id="fileInput"
            accept=".txt"
            style="display: none"
            onchange="handleFile(this.files)" />
          <p>Result from files</p>
        </div>
        <div id="text-results"></div>
      </div>
    </div>
    <script>
      function handleFile(files) {
        var file = files[0];
        var reader = new FileReader();
        reader.onload = function (e) {
          var contents = e.target.result;
          var lines = contents.split("\n").map(function (line) {
            return line.replace(/\s/g, "");
          });
          console.log(lines);
          $("#text-results").append(
            lines.map(function (line) {
              return "<p>" + line + calculate(line) + "</p>";
            })
          );
        };
        reader.readAsText(file);
      }
    </script>
  </body>
</html>
